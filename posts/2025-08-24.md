---
title: macOS如何停用IPV6功能
date: 2024-08-24
category: hack
---

## macOS 如何禁用 IPv6 功能

### 背景说明

在某些网络环境下，IPv6 可能会带来一些不便。例如，当进行 IP 地址审核或访问特定服务时，系统会优先使用 IPv6 地址，这可能导致验证失败或连接问题。特别是当路由器端无法关闭运营商自动分配的 IPv6 时，我们需要在终端设备上进行配置。

本文将介绍如何在 macOS 系统中快速禁用 IPv6 功能。

### 操作步骤

#### 1. 查看网络服务列表

首先，我们需要确认系统中的网络服务名称：

```bash
networksetup -listallnetworkservices
```

执行后会显示所有可用的网络服务，例如：

```text
An asterisk (*) denotes that a network service is disabled.
USB 10/100/1G/2.5G LAN    # 外接 2.5G 网卡
Wi-Fi                      # 无线网络
iPhone USB                 # iPhone 热点
Thunderbolt Bridge         # 雷电桥接
```

#### 2. 禁用 IPv6

根据您需要配置的网络接口，使用以下命令禁用 IPv6：

```bash
# 禁用 Wi-Fi 的 IPv6
sudo networksetup -setv6off Wi-Fi

# 禁用有线网络的 IPv6（以 2.5G 网卡为例）
sudo networksetup -setv6off "USB 10/100/1G/2.5G LAN"
```

#### 3. 恢复 IPv6（如需要）

如果将来需要重新启用 IPv6，可以使用：

```bash
# 恢复 Wi-Fi 的 IPv6 为自动配置
sudo networksetup -setv6automatic Wi-Fi
```

### 验证配置

配置完成后，可以通过以下方式验证 IPv6 是否已禁用：

1. 打开「系统设置」→「网络」→ 选择对应的网络接口 →「详细信息...」→「TCP/IP」
2. 查看「配置 IPv6」选项是否显示为「关闭」

![效果图](https://gw.tar.tn/ipfs/QmdtX8tGKQNXkFZgvYE9d5gV2g13hBC2DaXp8uThorAZKj)

### 注意事项

- 某些命令可能需要管理员权限，请在命令前加上 `sudo`
- 禁用 IPv6 可能会影响某些依赖 IPv6 的服务或应用
- 如果您同时使用多个网络接口，需要分别对每个接口进行配置
- 重启系统后设置依然有效，无需重复配置
